{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jalpa\\\\OneDrive\\\\Desktop\\\\FSD\\\\frontend\\\\src\\\\Components\\\\EventDetails\\\\EventDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './EventDetails.css';\nimport Head from '../Head/Head';\nimport EventCard from '../EventCard/EventCard';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    user: state.user\n  };\n};\n// EventCard component for displaying an event in a card format\n\n// EventDetails component that fetches data and displays it using multiple EventCards\nconst EventDetails = ({\n  user\n}) => {\n  _s();\n  const [eventData, setEventData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const fetchEventDataFromDatabase = async () => {\n    try {\n      const response = await fetch('http://localhost:8080/api/getEventData');\n      const data = await response.json();\n      setEventData(data);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const giveDataOfRemindersToDataBase = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/setReminders?userEmail=${user.email}`, selectedItems);\n      const data = await response.json();\n      console.log(data);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleItemClick = (event, isSelected) => {\n    if (isSelected) {\n      setSelectedItems(prevItems => [...prevItems, event]);\n      console.log(selectedItems);\n    } else {\n      setSelectedItems(prevItems => prevItems.filter(item => item !== event));\n    }\n  };\n  useEffect(() => {\n    fetchEventDataFromDatabase();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"full\",\n    children: [/*#__PURE__*/_jsxDEV(Head, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: 'row',\n        alignItems: 'center'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginBottom: '8px',\n        marginTop: '10px',\n        fontSize: '2rem',\n        color: 'white'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        height: '20px',\n        marginBottom: '50px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 3\n    }, this), eventData === null || eventData === void 0 ? void 0 : eventData.map((event, index) => /*#__PURE__*/_jsxDEV(EventCard, {\n      event: event,\n      onItemClick: handleItemClick,\n      isSelected: selectedItems.includes(event)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(EventDetails, \"CM9g29RcP069e/fecHOGO8ZTxT0=\");\n_c = EventDetails;\nexport default connect(mapStateToProps)(EventDetails);\nvar _c;\n$RefreshReg$(_c, \"EventDetails\");","map":{"version":3,"names":["React","useState","useEffect","Head","EventCard","connect","jsxDEV","_jsxDEV","mapStateToProps","state","console","log","user","EventDetails","_s","eventData","setEventData","loading","setLoading","error","setError","selectedItems","setSelectedItems","fetchEventDataFromDatabase","response","fetch","data","json","message","giveDataOfRemindersToDataBase","email","handleItemClick","event","isSelected","prevItems","filter","item","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","display","flexDirection","alignItems","justifyContent","marginBottom","marginTop","fontSize","color","height","map","index","onItemClick","includes","_c","$RefreshReg$"],"sources":["C:/Users/jalpa/OneDrive/Desktop/FSD/frontend/src/Components/EventDetails/EventDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './EventDetails.css'\r\nimport Head from '../Head/Head';\r\n\r\nimport EventCard from '../EventCard/EventCard'\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state);\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n// EventCard component for displaying an event in a card format\r\n\r\n\r\n\r\n// EventDetails component that fetches data and displays it using multiple EventCards\r\nconst EventDetails = ({user}) => {\r\n  const [eventData, setEventData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n\r\n\r\n\r\n\r\n  const fetchEventDataFromDatabase = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/getEventData');\r\n      const data = await response.json();\r\n      setEventData(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const  giveDataOfRemindersToDataBase= async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:8080/api/setReminders?userEmail=${user.email}`,selectedItems);\r\n      const data = await response.json();\r\n      console.log(data);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleItemClick = (event, isSelected) => {\r\n    if (isSelected) {\r\n      setSelectedItems((prevItems) => [...prevItems, event]);\r\n      console.log(selectedItems); \r\n    } else {\r\n      setSelectedItems((prevItems) => prevItems.filter((item) => item !== event));\r\n    }\r\n  };\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    fetchEventDataFromDatabase();\r\n  }, []);\r\n\r\n\r\n  if (loading) {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>Error: {error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className='full'>\r\n    <Head />\r\n\r\n    <div style={{display:\"flex\",flexDirection:'row',alignItems:'center'}}>\r\n    </div>\r\n\r\n    <h1 style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: '8px', marginTop: '10px', fontSize: '2rem', color: 'white' }}></h1>\r\n\r\n  <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'flex-end',height:'20px',marginBottom:'50px'}}>\r\n  \r\n</div>\r\n\r\n    {eventData?.map((event, index) => (\r\n      <EventCard key={index} event={event} onItemClick={handleItemClick} isSelected={selectedItems.includes(event)} />\r\n    ))}\r\n\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps)(EventDetails);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}